<div class="tasks-view">
    <div class="tasks-category"
        id="group-0"
        cdkDropList
        #todoList="cdkDropList"
        [cdkDropListData]="getTasks('To Do')"
        [cdkDropListConnectedTo]="[inProgressList, doneList, blockedList, notValidList]"
        (cdkDropListDropped)="drop($event)">
        <app-group-header 
            name="To Do"
            [tasks]="getTasks('To Do')">
        </app-group-header>
        @for (task of getTasks('To Do'); track task) {
            <div cdkDrag>
                <app-single-task [data]="task"></app-single-task>
            </div>
        }
    </div>

    <div class="tasks-category"
        id="group-1"
        cdkDropList
        #inProgressList="cdkDropList"
        [cdkDropListData]="getTasks('In Progress')"
        [cdkDropListConnectedTo]="[todoList, doneList, blockedList, notValidList]"
        (cdkDropListDropped)="drop($event)">
        <app-group-header 
            name="In Progress"
            [tasks]="getTasks('In Progress')">
        </app-group-header>
        @for (task of getTasks('In Progress'); track task) {
            <div cdkDrag>
                <app-single-task [data]="task"></app-single-task>
            </div>
        }
    </div>

    <div class="tasks-category"
        id="group-2"
        cdkDropList
        #doneList="cdkDropList"
        [cdkDropListData]="getTasks('Done')"
        [cdkDropListConnectedTo]="[inProgressList, todoList, blockedList, notValidList]"
        (cdkDropListDropped)="drop($event)">
        <app-group-header 
            name="Done"
            [tasks]="getTasks('Done')">
        </app-group-header>
        @for (task of getTasks('Done'); track task) {
            <div cdkDrag>
                <app-single-task [data]="task"></app-single-task>
            </div>
        }
    </div>

    <div class="tasks-category"
        id="group-3"
        cdkDropList
        #blockedList="cdkDropList"
        [cdkDropListData]="getTasks('Blocked')"
        [cdkDropListConnectedTo]="[inProgressList, todoList, notValidList, doneList]"
        (cdkDropListDropped)="drop($event)">
        <app-group-header 
            name="Blocked"
            [tasks]="getTasks('Blocked')">
        </app-group-header>
        @for (task of getTasks('Blocked'); track task) {
            <div cdkDrag>
                <app-single-task [data]="task"></app-single-task>
            </div>
        }
    </div>

    <div class="tasks-category"
        id="group-4"
        cdkDropList
        #notValidList="cdkDropList"
        [cdkDropListData]="getTasks('Not Valid')"
        [cdkDropListConnectedTo]="[inProgressList, todoList, doneList, blockedList]"
        (cdkDropListDropped)="drop($event)">
        <app-group-header 
            name="Not Valid"
            [tasks]="getTasks('Not Valid')">
        </app-group-header>
        @for (task of getTasks('Not Valid'); track task) {
            <div cdkDrag>
                <app-single-task [data]="task"></app-single-task>
            </div>
        }
    </div>
</div>

